<!Doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>quota exceed test</title>
</head>

<body>
<button class="start-btn">start</button>
<script>
    var btn = document.querySelector('.start-btn');
    var data = '012345678901234567890123456789012345678901234567890123456789' +
        '0123456789012345678901234567890123456789012345678901234567890123456789' +
        '0123456789012345678901234567890123456789012345678901234567890123456789' +
        '0123456789012345678901234567890123456789012345678901234567890123456789' +
        '0123456789012345678901234567890123456789012345678901234567890123456789' +
        '0123456789012345678901234567890123456789012345678901234567890123456789' +
        '0123456789012345678901234567890123456789012345678901234567890123456789' +
        '0123456789012345678901234567890123456789012345678901234567890123456789',
        id = 0,
        len = data.length,
        total = 0,
        key;

    function save() {
        id = (id + 1) % 10;
        key = Date.now() + '' + id;
        // try...catch 主要用于捕获代码运行时的异常,并进行异常处理。
        // try 部分包含运行时，可能出现异常的代码.
        // 而 catch 部分包含错误发生时运行的代码。
        try {
            // try 中写可能产生异常的语句
            localStorage.setItem(key, data);
            save();
        } catch (e) {
            // catch 中写负责异常处理的语句
            console.log(e.name);

        }

    }

    btn.addEventListener('click', save);

</script>
</body>

</html>